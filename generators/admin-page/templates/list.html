<div ng-include="'components/shell/shell.html'"></div>
<div class="container" layout="row" flex layout-align="center center">
    <md-card flex-gt-xs="90" flex-gt-md="60">
        <md-toolbar>
            <div class="md-toolbar-tools">
                <h2>
		          <span><%= list_title %></span>
		        </h2>
                <span flex></span>
                <md-button class="md-fab md-mini" aria-label="Nouveau" ng-click="showAddForm($event)">
                    <md-icon md-svg-icon="content:add"></md-icon>
                </md-button>
            </div>
        </md-toolbar>
        <md-card-content>
            <md-list flex ng-show="<%= selectedName %> == null">
                <md-list-item class="md-2-line" ng-repeat="<%= model %> in <%= list %>" ng-click="select(<%= model %>)">
                    <div class="md-list-item-text" layout="column">
                        <h3>{{ <%= model %> }}</h3>
                    </div>
                    <md-button ng-click="<%= deleteMethod %>($event, <%= model %>)" class="md-fab md-mini" aria-label="Supprimer">
                        <md-icon md-svg-icon="action:delete"></md-icon>
                    </md-button>
                </md-list-item>
            </md-list>
            <form name="editForm" ng-show="<%= selectedName %> != null">
                <% for(var i=0; i<createFormInputs.length; i++) {%>
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>
                            <%= createFormInputs[i].label %>
                        </label>
                        <input ng-model="<%= selectedName %>.<%= createFormInputs[i].attribute %>" type="<%= createFormInputs[i].type %>" required="<%= createFormInputs[i].required %>">
                    </md-input-container>
                    <% } %>

                    <% for(var i=0; i<editFormInputs.length; i++) {%>
                    <md-input-container class="md-block" flex-gt-sm>
                        <label><%= editFormInputs[i].label %></label>
                        <input ng-model="<%= selectedName %>.<%= editFormInputs[i].attribute %>" type="<%= editFormInputs[i].type %>" required="<%= editFormInputs[i].required %>">
                    </md-input-container>
                    <% } %>
                        <md-button class="md-raised" aria-label="Retour" ng-click="select(null)">
                            Annuler
                        </md-button>
                        <md-button type="submit" ng-click="saveSelected()" class="md-raised" aria-label="Sauvegarder" md-ripple-size="full">Sauvegarder</md-button>
            </form>
        </md-card-content>
    </md-card>
</div>
